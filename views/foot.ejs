<script>
    document.getElementById('airdropForm').addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent the form from submitting normally
        const req = {};
        req.publickey = event.target.elements.publickey.value;
        req.lamport = event.target.elements.lamport.value;
        req.environment = event.target.elements.environment.checked ? 'devnet' : 'testnet';
        const url = 'http://localhost:3000/airdrop';
        // Make the API call using fetch
        fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(req) })
            .then(response => {
                if (!response.ok)
                    throw new Error('Network response was not ok');
                return response.json();
            })
            .then(data => {
                console.log(data)
            })
            .catch(error => {
                console.log(error);
            });
    });
</script>